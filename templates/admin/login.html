{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
{{ block.super }}
{{ form.media }}
<style>
  html { height: 100%; }
  body.login { background: #f8fafc !important; min-height: 100vh !important; height: 100% !important; margin: 0 !important; display: flex !important; flex-direction: column !important; }
  .dark body.login { background: #020617 !important; }
  body.login #header { position: relative !important; flex-shrink: 0 !important; }
  body.login #container { margin: 0 !important; max-width: 100% !important; flex: 1 !important; display: flex !important; flex-direction: column !important; min-height: 0 !important; }
  body.login .main { flex: 1 !important; display: flex !important; align-items: center !important; justify-content: center !important; min-height: 0 !important; }
  body.login .content { flex: 1 !important; display: flex !important; align-items: center !important; justify-content: center !important; padding: 2rem !important; }
  body.login #content { padding: 2rem !important; max-width: 420px !important; margin: 0 !important; width: 100% !important; box-sizing: border-box !important; }
  #content-main { background: #fff !important; padding: 2rem !important; border-radius: 16px !important; box-shadow: 0 4px 24px rgba(0,0,0,0.08) !important; border: 1px solid #e2e8f0 !important; }
  .dark #content-main { background: #0f172a !important; border-color: rgba(255,255,255,0.1) !important; box-shadow: 0 4px 24px rgba(0,0,0,0.3) !important; }
  #login-form .form-row { margin-bottom: 1.25rem !important; }
  #login-form label { display: block !important; font-weight: 600 !important; margin-bottom: 0.5rem !important; color: #334155 !important; font-size: 14px !important; }
  .dark #login-form label { color: #e2e8f0 !important; }
  #login-form input[type=text], #login-form input[type=password] { width: 100% !important; padding: 10px 14px !important; border-radius: 10px !important; border: 1px solid #cbd5e1 !important; font-size: 15px !important; }
  .dark #login-form input[type=text], .dark #login-form input[type=password] { background: #1e293b !important; border-color: rgba(255,255,255,0.2) !important; color: #e2e8f0 !important; }
  #login-form .submit-row { margin: 1.5rem 0 0 !important; padding: 0 !important; border: none !important; background: none !important; }
  #login-form .submit-row input { width: 100% !important; padding: 12px 20px !important; background: linear-gradient(135deg, #6366f1 0%, #10b981 100%) !important; color: #fff !important; border: none !important; border-radius: 10px !important; font-weight: 700 !important; font-size: 15px !important; cursor: pointer !important; }
  #login-form .submit-row input:hover { opacity: 0.95 !important; }
  .password-reset-link { margin-top: 1rem !important; }
  .password-reset-link a { color: #6366f1 !important; font-size: 13px !important; }
  .password-reset-link a:hover { color: #10b981 !important; }
  .errornote { border-radius: 10px !important; margin-bottom: 1rem !important; }
</style>
{% endblock %}

{% block bodyclass %}{{ block.super }} login{% endblock %}

{% block usertools %}{% endblock %}
{% block nav-global %}{% endblock %}
{% block nav-sidebar %}{% endblock %}
{% block content_title %}{% endblock %}
{% block nav-breadcrumbs %}{% endblock %}

{% block content %}
{% if form.errors and not form.non_field_errors %}
<p class="errornote">
{% blocktranslate count counter=form.errors.items|length %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktranslate %}
</p>
{% endif %}

{% if form.non_field_errors %}
{% for error in form.non_field_errors %}
<p class="errornote">{{ error }}</p>
{% endfor %}
{% endif %}

<div id="content-main">
{% if user.is_authenticated %}
<p class="errornote">
{% blocktranslate trimmed %}
You are authenticated as {{ username }}, but are not authorized to
access this page. Would you like to login to a different account?
{% endblocktranslate %}
</p>
{% endif %}

<form action="{{ app_path }}" method="post" id="login-form">{% csrf_token %}
  <div class="form-row">
    {{ form.username.errors }}
    {{ form.username.label_tag }}
    {{ form.username }}
  </div>
  <div class="form-row">
    {{ form.password.errors }}
    {{ form.password.label_tag }}
    {{ form.password }}
    <input type="hidden" name="next" value="{{ next }}">
  </div>
  {% url 'admin_password_reset' as password_reset_url %}
  {% if password_reset_url %}
  <div class="password-reset-link">
    <a href="{{ password_reset_url }}">{% translate 'Forgotten your password or username?' %}</a>
  </div>
  {% endif %}
  <div class="submit-row">
    <input type="submit" value="{% translate 'Log in' %}">
  </div>
</form>
</div>
{% endblock %}
